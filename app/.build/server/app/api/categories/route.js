"use strict";(()=>{var e={};e.id=9961,e.ids=[9961],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},32503:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>w,requestAsyncStorage:()=>x,routeModule:()=>y,serverHooks:()=>f,staticGenerationAsyncStorage:()=>h});var o={};r.r(o),r.d(o,{GET:()=>m,POST:()=>g,dynamic:()=>d});var a=r(79182),n=r(72007),s=r(56719),i=r(93442),u=r(53524),c=r(84770),p=r.n(c);let d="force-dynamic",l=new u.PrismaClient;async function m(e){try{let{searchParams:t}=new URL(e.url),r=t.get("company"),o=(await l.category.findMany({where:r&&"all"!==r?{Company:{slug:r}}:{},orderBy:[{order:"asc"},{name:"asc"}],include:{Company:!0,_count:{select:{CompanyQuestion:!0}}}})).map(e=>({...e,questionCount:e._count.CompanyQuestion}));return i.NextResponse.json(o)}catch(e){return console.error("Error fetching categories:",e),i.NextResponse.json({error:"Failed to fetch categories"},{status:500})}}async function g(e){try{let{name:t,slug:r,description:o,color:a,icon:n,order:s,companyId:u}=await e.json(),c=await l.category.create({data:{id:p().randomUUID(),name:t,slug:r,description:o,color:a,icon:n,order:s||0,companyId:u,updatedAt:new Date},include:{Company:!0}});return i.NextResponse.json(c,{status:201})}catch(e){return console.error("Error creating category:",e),i.NextResponse.json({error:"Failed to create category"},{status:500})}}let y=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/categories/route",pathname:"/api/categories",filename:"route",bundlePath:"app/api/categories/route"},resolvedPagePath:"/home/ubuntu/em_interview_prep/app/app/api/categories/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:x,staticGenerationAsyncStorage:h,serverHooks:f}=y,v="/api/categories/route";function w(){return(0,s.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:h})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[4372,7609],()=>r(32503));module.exports=o})();