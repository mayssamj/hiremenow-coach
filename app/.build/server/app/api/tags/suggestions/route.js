"use strict";(()=>{var e={};e.id=1796,e.ids=[1796],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>f,patchFetch:()=>S,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>v});var o={};n.r(o),n.d(o,{POST:()=>d,dynamic:()=>l});var i=n(79182),a=n(72007),r=n(56719),s=n(93442),c=n(53524);let l="force-dynamic",u=new c.PrismaClient,p={Leadership:["lead","manage","team","direct","mentor","coach","delegate","motivate","inspire","guide"],"Technical Strategy":["architecture","design","system","technical","engineering","scalability","performance","infrastructure"],"Problem Solving":["problem","solve","challenge","issue","debug","troubleshoot","analyze","investigate","resolve"],Communication:["present","communicate","explain","discuss","meeting","stakeholder","collaborate","negotiate"],Innovation:["innovate","creative","new","improve","optimize","enhance","experiment","prototype"],"Project Management":["project","timeline","deadline","milestone","coordinate","plan","organize","deliver"],"Conflict Resolution":["conflict","disagree","resolve","mediate","compromise","negotiate","tension"],"Data Driven":["data","metrics","analytics","measure","kpi","analysis","insights","evidence"],"Customer Focus":["customer","user","client","feedback","satisfaction","experience","needs"],"Growth & Scale":["scale","growth","expand","hire","build","grow","increase","develop"],"Crisis Management":["crisis","urgent","emergency","pressure","critical","incident","outage"],"Cross-functional":["cross-functional","collaborate","partner","coordinate","align","stakeholder"]},g={meta:["Move Fast","Be Bold","Focus on Impact","Be Open","Build Social Value","Leadership","Technical Strategy","Innovation","Data Driven","Growth & Scale"],google:["Focus on the user","Think 10x","Launch and iterate","Collaboration","Technical Excellence","Leadership","Innovation","Problem Solving","Data Driven","Customer Focus"],amazon:["Customer Obsession","Ownership","Invent and Simplify","Learn and Be Curious","Hire and Develop","Leadership","Customer Focus","Innovation","Problem Solving","Growth & Scale"],microsoft:["Respect","Integrity","Accountability","Inclusive","Growth Mindset","Leadership","Technical Strategy","Collaboration","Innovation","Customer Focus"],apple:["Innovation","Quality","Simplicity","Collaboration","Integrity","Technical Strategy","Innovation","Problem Solving","Customer Focus","Leadership"]};async function d(e){try{let{content:t,company:n,existingTags:o=[]}=await e.json(),i=t?function(e){let t=[],n=e.toLowerCase();return Object.entries(p).forEach(([e,o])=>{(o.filter(e=>n.includes(e.toLowerCase())).length>=2||o.some(e=>n.includes(e.toLowerCase())&&e.length>6))&&t.push(e)}),t}(t):[],a=n&&g[n.toLowerCase()]||[],r=await u.tag.findMany({orderBy:{name:"asc"},include:{_count:{select:{Story:!0}}}}),c=[];if(n){let e=await u.company.findFirst({where:{OR:[{slug:n.toLowerCase()},{name:{contains:n,mode:"insensitive"}}]},include:{categories:!0}});e&&(c=e.categories.map(e=>e.name))}let l=[...i,...a.slice(0,5),...c.slice(0,3)],d=Array.from(new Set(l)).filter(e=>!o.includes(e)).slice(0,8),m=r.filter(e=>e._count.Story>0).sort((e,t)=>t._count.Story-e._count.Story).slice(0,5).map(e=>e.name).filter(e=>!o.includes(e));return s.NextResponse.json({suggestions:d,popularTags:m,existingTags:r.map(e=>({id:e.id,name:e.name,color:e.color,count:e._count.Story}))})}catch(e){return console.error("Error getting tag suggestions:",e),s.NextResponse.json({error:"Failed to get tag suggestions"},{status:500})}}let m=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/tags/suggestions/route",pathname:"/api/tags/suggestions",filename:"route",bundlePath:"app/api/tags/suggestions/route"},resolvedPagePath:"/home/ubuntu/em_interview_prep/app/app/api/tags/suggestions/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:v,serverHooks:y}=m,f="/api/tags/suggestions/route";function S(){return(0,r.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:v})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),o=t.X(0,[4372,7609],()=>n(29));module.exports=o})();