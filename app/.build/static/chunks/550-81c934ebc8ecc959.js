"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{6550:function(e,s,t){t.d(s,{Z:function(){return Y}});var a=t(5444),r=t(9300),l=t(9827),n=t(1335),i=t(2422),c=t(389),o=t(7012),d=t(489),m=t(6124),x=t(2492),u=t(6772),h=t(4464),p=t(2019),f=t(6997),g=t(3751),j=t(4362),N=t(3431),y=t(4614),b=t(9429),v=t(357),w=t(3485),S=t(1069),k=t(8382),C=t(2817),E=t(5854),T=t(9530),R=t(4678),Z=t(5181),A=t(4635),I=t(6765),_=t(4712),O=t(5522);let z=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(_.fC,{ref:s,className:(0,O.cn)("relative overflow-hidden",t),...l,children:[(0,a.jsx)(_.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(P,{}),(0,a.jsx)(_.Ns,{})]})});z.displayName=_.fC.displayName;let P=r.forwardRef((e,s)=>{let{className:t,orientation:r="vertical",...l}=e;return(0,a.jsx)(_.gb,{ref:s,orientation:r,className:(0,O.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,a.jsx)(_.q4,{className:"relative flex-1 rounded-full bg-border"})})});P.displayName=_.gb.displayName;var D=t(3144),q=t(1059),U=t(4693),F=t(5076),M=t(7665),V=t(9335);function L(e){let{isOpen:s,onClose:t,onSelectStory:c,questionId:o,companyId:d,questionTitle:m}=e,[u,h]=(0,r.useState)(""),[p,f]=(0,r.useState)([]),[g,j]=(0,r.useState)([]),[N,v]=(0,r.useState)([]),[w,S]=(0,r.useState)([]),[k,E]=(0,r.useState)(!1),[_,O]=(0,r.useState)("recent"),[P,L]=(0,r.useState)(null),[Q,Y]=(0,r.useState)(""),[G,H]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s&&(K(),B())},[s]),(0,r.useEffect)(()=>{s&&(u||p.length>0||G)&&W()},[u,p,G,s]);let K=async()=>{try{E(!0);let e=await fetch("/api/stories/recent?limit=10");if(e.ok){let s=await e.json();v(s)}}catch(e){console.error("Error fetching recent stories:",e)}finally{E(!1)}},B=async()=>{try{let e=await fetch("/api/tags/suggestions");if(e.ok){let s=await e.json();S(s.popularTags||[])}}catch(e){console.error("Error fetching tags:",e)}},W=async()=>{try{E(!0);let e=new URLSearchParams;u&&e.append("search",u),p.length>0&&e.append("tags",p.join(",")),G&&e.append("public","true"),e.append("limit","20");let s=await fetch("/api/stories?".concat(e));if(s.ok){let e=await s.json();j(e),O("search")}}catch(e){console.error("Error searching stories:",e)}finally{E(!1)}},J=e=>{f(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},$=e=>{L(e),Y("")},X=e=>{let{story:s,isSelected:t=!1}=e;return(0,a.jsx)(C.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:(0,a.jsxs)(l.Zb,{className:"cursor-pointer transition-all duration-200 hover:shadow-md ".concat(t?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>$(s),children:[(0,a.jsx)(l.Ol,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium line-clamp-2",children:s.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[s.isPublic?(0,a.jsxs)("div",{className:"flex items-center text-xs text-green-600",children:[(0,a.jsx)(D.Z,{className:"w-3 h-3 mr-1"}),"Public"]}):(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,a.jsx)(q.Z,{className:"w-3 h-3 mr-1"}),"Private"]}),s.user&&(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,a.jsx)(U.Z,{className:"w-3 h-3 mr-1"}),s.user.username]})]})]}),s.lastUsed&&(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500 ml-2",children:[(0,a.jsx)(x.Z,{className:"w-3 h-3 mr-1"}),s.usageCount,"x"]})]})}),(0,a.jsxs)(l.aY,{className:"pt-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 line-clamp-3 mb-3",children:s.situation||s.content}),s.tags.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mb-2",children:[s.tags.slice(0,3).map(e=>(0,a.jsx)(n.C,{variant:"secondary",className:"text-xs px-1.5 py-0.5",style:{backgroundColor:e.color?"".concat(e.color,"20"):void 0},children:e.name},e.id)),s.tags.length>3&&(0,a.jsxs)(n.C,{variant:"outline",className:"text-xs px-1.5 py-0.5",children:["+",s.tags.length-3]})]}),s.recentQuestions&&s.recentQuestions.length>0&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"font-medium",children:"Recent use:"})," ",s.recentQuestions[0].title.slice(0,50),"..."]})]})]})})};return(0,a.jsx)(T.Vq,{open:s,onOpenChange:t,children:(0,a.jsxs)(T.cZ,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[(0,a.jsx)(T.fK,{children:(0,a.jsxs)(T.$N,{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5"}),"Select a Story",m&&(0,a.jsxs)("span",{className:"text-sm font-normal text-gray-600",children:['for "',m.slice(0,60),'..."']})]})}),P?(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("h3",{className:"font-medium mb-2",children:["Selected Story: ",P.title]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-sm",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"Situation:"}),(0,a.jsx)("p",{className:"text-gray-700 mb-2",children:P.situation||"Not specified"}),(0,a.jsx)("p",{className:"font-medium mb-1",children:"Task:"}),(0,a.jsx)("p",{className:"text-gray-700 mb-2",children:P.task||"Not specified"}),(0,a.jsx)("p",{className:"font-medium mb-1",children:"Action:"}),(0,a.jsx)("p",{className:"text-gray-700 mb-2",children:P.action||"Not specified"}),(0,a.jsx)("p",{className:"font-medium mb-1",children:"Result:"}),(0,a.jsx)("p",{className:"text-gray-700",children:P.result||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Customize for this question (optional):"}),(0,a.jsx)("textarea",{value:Q,onChange:e=>Y(e.target.value),placeholder:"Add any specific adaptations or emphasis for this question/company...",className:"w-full h-32 p-3 border rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex justify-between pt-4 border-t",children:[(0,a.jsx)(i.z,{variant:"outline",onClick:()=>{L(null),Y("")},children:"Back to Stories"}),(0,a.jsx)(i.z,{onClick:()=>{P&&(c(P,Q),t(),L(null),Y(""))},children:"Use This Story"})]})]}):(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,a.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(F.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(R.I,{placeholder:"Search stories by title, content, or STAR method...",value:u,onChange:e=>h(e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(D.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)(A._,{htmlFor:"public-only",className:"text-sm font-medium",children:"Show public stories only"})]}),(0,a.jsx)(Z.r,{id:"public-only",checked:G,onCheckedChange:H})]}),w.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Filter by tags:"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:w.slice(0,10).map(e=>(0,a.jsxs)(n.C,{variant:p.includes(e.name)?"default":"outline",className:"cursor-pointer text-xs",onClick:()=>J(e.name),children:[e.name," (",e.count,")"]},e.name))})]})]}),(0,a.jsxs)(I.mQ,{value:_,onValueChange:O,className:"flex-1 flex flex-col min-h-0",children:[(0,a.jsxs)(I.dr,{className:"grid w-full grid-cols-2",children:[(0,a.jsxs)(I.SP,{value:"recent",className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),"Recent (",N.length,")"]}),(0,a.jsxs)(I.SP,{value:"search",className:"flex items-center gap-2",children:[(0,a.jsx)(F.Z,{className:"w-4 h-4"}),"Search Results (",g.length,")"]})]}),(0,a.jsx)(I.nU,{value:"recent",className:"flex-1 mt-4",children:(0,a.jsx)(z,{className:"h-full",children:k?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):N.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(0,a.jsx)(V.M,{children:N.map(e=>(0,a.jsx)(X,{story:e},e.id))})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(y.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"No recent stories found."}),(0,a.jsx)("p",{className:"text-sm",children:"Create some stories to get started!"})]})})}),(0,a.jsx)(I.nU,{value:"search",className:"flex-1 mt-4",children:(0,a.jsx)(z,{className:"h-full",children:k?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):g.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(0,a.jsx)(V.M,{children:g.map(e=>(0,a.jsx)(X,{story:e},e.id))})}):u||p.length>0?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(F.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"No stories found matching your search."}),(0,a.jsx)("p",{className:"text-sm",children:"Try different keywords or tags."})]}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(F.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"Enter a search term or select tags to find stories."})]})})})]}),(0,a.jsxs)("div",{className:"flex justify-between pt-4 border-t",children:[(0,a.jsx)(i.z,{variant:"outline",onClick:t,children:"Cancel"}),(0,a.jsxs)(i.z,{onClick:()=>window.open("/stories","_blank"),variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),"Create New Story"]})]})]})]})})}var Q=t(9047);function Y(e){var s,t;let{question:T,delay:R=0}=e,[Z,A]=(0,r.useState)(!1),[I,_]=(0,r.useState)(!1),[O,z]=(0,r.useState)((null===(s=T.userNote)||void 0===s?void 0:s.content)||""),[P,D]=(0,r.useState)((null===(t=T.userNote)||void 0===t?void 0:t.status)||"NOT_STARTED"),[q,U]=(0,r.useState)(!1),[F,M]=(0,r.useState)(!1),[V,Y]=(0,r.useState)([]),[G,H]=(0,r.useState)(!1),{toast:K}=(0,E.pm)(),B=(0,Q.useRouter)();(0,r.useEffect)(()=>{T.id&&W()},[T.id]);let W=async()=>{try{H(!0);let e=await fetch("/api/story-questions?questionId=".concat(T.id,"&recent=true"));if(e.ok){let s=await e.json();Y(s)}}catch(e){console.error("Error loading linked stories:",e)}finally{H(!1)}},J=async()=>{U(!0);try{if((await fetch("/api/user-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:T.id,content:O,status:P})})).ok)_(!1),K({title:"Note saved",description:"Your note has been saved successfully."});else throw Error("Failed to save note")}catch(e){console.error("Error saving note:",e),K({title:"Error",description:"Failed to save note. Please try again.",variant:"destructive"})}finally{U(!1)}},$=async(e,s)=>{try{if((await fetch("/api/story-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storyId:e.id,questionId:T.id,companyId:T.company.id,relevance:"Selected for ".concat(T.company.name," - ").concat(T.title),customization:s||void 0})})).ok)await W(),K({title:"Story linked",description:'"'.concat(e.title,'" has been linked to this question.')});else throw Error("Failed to link story")}catch(e){console.error("Error linking story:",e),K({title:"Error",description:"Failed to link story. Please try again.",variant:"destructive"})}},X=async e=>{try{let s=V.find(s=>s.id===e);if(!s)return;if((await fetch("/api/story-questions?storyId=".concat(s.story.id,"&questionId=").concat(T.id,"&companyId=").concat(T.company.id),{method:"DELETE"})).ok)await W(),K({title:"Story removed",description:"Story has been removed from this question."});else throw Error("Failed to remove story")}catch(e){console.error("Error removing story:",e),K({title:"Error",description:"Failed to remove story. Please try again.",variant:"destructive"})}},ee=e=>{B.push("/stories?tag=".concat(encodeURIComponent(e)))},es=e=>{B.push("/comprehensive?category=".concat(encodeURIComponent(e)))},et=e=>{B.push("/companies/".concat(e))};return(0,a.jsxs)(C.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:R},children:[(0,a.jsx)(l.Zb,{className:"hover:shadow-lg transition-all duration-300 border-0 bg-white/70 backdrop-blur-sm",children:(0,a.jsxs)(c.zF,{open:Z,onOpenChange:A,children:[(0,a.jsx)(c.wy,{asChild:!0,children:(0,a.jsx)(l.Ol,{className:"cursor-pointer hover:bg-gray-50/50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)(n.C,{className:(e=>{switch(e){case"EASY":return"bg-green-100 text-green-800";case"MEDIUM":return"bg-yellow-100 text-yellow-800";case"HARD":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(T.difficulty),children:T.difficulty}),(0,a.jsx)(n.C,{className:(e=>{switch(e){case"BEHAVIORAL":return"bg-blue-100 text-blue-800";case"SYSTEM_DESIGN":return"bg-purple-100 text-purple-800";case"LEADERSHIP":return"bg-indigo-100 text-indigo-800";case"CULTURAL_FIT":return"bg-pink-100 text-pink-800";case"TECHNICAL":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}})(T.type),children:T.type.replace("_"," ")}),(0,a.jsxs)(n.C,{variant:"outline",className:"flex items-center gap-1 cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-colors",onClick:e=>{e.stopPropagation(),et(T.company.slug)},children:[(0,a.jsx)(p.Z,{className:"w-3 h-3"}),T.company.name]}),T.isCritical&&(0,a.jsx)(n.C,{variant:"destructive",children:"Critical"}),(0,a.jsxs)(n.C,{className:(e=>{switch(e){case"PREPARED":return"bg-green-100 text-green-800";case"IN_PROGRESS":return"bg-yellow-100 text-yellow-800";case"NEEDS_WORK":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(P),variant:"outline",children:[(e=>{switch(e){case"PREPARED":return(0,a.jsx)(m.Z,{className:"w-4 h-4 text-green-600"});case"IN_PROGRESS":return(0,a.jsx)(x.Z,{className:"w-4 h-4 text-yellow-600"});case"NEEDS_WORK":return(0,a.jsx)(u.Z,{className:"w-4 h-4 text-red-600"});default:return(0,a.jsx)(h.Z,{className:"w-4 h-4 text-gray-400"})}})(P),(0,a.jsx)("span",{className:"ml-1",children:P.replace("_"," ")})]})]}),(0,a.jsx)(l.ll,{className:"text-lg leading-relaxed",children:T.title}),(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:(0,a.jsx)("span",{className:"cursor-pointer hover:text-blue-600 hover:underline transition-colors",onClick:e=>{e.stopPropagation(),es(T.category.name)},children:T.category.name})})]}),(0,a.jsx)(i.z,{variant:"ghost",size:"sm",children:Z?(0,a.jsx)(f.Z,{className:"w-4 h-4"}):(0,a.jsx)(g.Z,{className:"w-4 h-4"})})]})})}),(0,a.jsx)(c.Fw,{children:(0,a.jsxs)(l.aY,{className:"space-y-6 pt-0",children:[(0,a.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed",children:T.content})}),T.tips.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h4",{className:"font-semibold flex items-center gap-2 text-sm",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-yellow-600"}),"Tips for Answering"]}),(0,a.jsx)("ul",{className:"space-y-1 text-sm text-gray-600",children:T.tips.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-blue-600 mt-1",children:"•"}),(0,a.jsx)("span",{children:e})]},s))})]}),T.followUps.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h4",{className:"font-semibold flex items-center gap-2 text-sm",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4 text-purple-600"}),"Common Follow-up Questions"]}),(0,a.jsx)("ul",{className:"space-y-1 text-sm text-gray-600",children:T.followUps.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-purple-600 mt-1",children:"•"}),(0,a.jsx)("span",{children:e})]},s))})]}),(0,a.jsxs)("div",{className:"border-t pt-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Linked Stories (",V.length,")"]}),(0,a.jsxs)(i.z,{onClick:()=>M(!0),size:"sm",className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),"Add Story"]})]}),G?(0,a.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):V.length>0?(0,a.jsx)("div",{className:"space-y-3",children:V.map(e=>(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h5",{className:"font-medium text-blue-900 mb-1",children:e.story.title}),(0,a.jsx)("p",{className:"text-sm text-blue-700 mb-2 line-clamp-2",children:e.story.situation||e.story.content}),e.story.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:e.story.tags.slice(0,3).map(e=>(0,a.jsx)(n.C,{variant:"secondary",className:"text-xs cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:e.color?"".concat(e.color,"20"):void 0},onClick:s=>{s.stopPropagation(),ee(e.name)},children:e.name},e.id))}),e.customization&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-white rounded border",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Customization for this question:"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.customization})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-blue-600",children:[(0,a.jsxs)("span",{children:["Used ",e.usageCount," times"]}),(0,a.jsxs)("span",{children:["Last used: ",new Date(e.lastUsed).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ml-4",children:[(0,a.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>{console.log("Edit story customization")},className:"text-blue-600 hover:text-blue-800",children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})}),(0,a.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>X(e.id),className:"text-red-600 hover:text-red-800",children:(0,a.jsx)(w.Z,{className:"w-4 h-4"})})]})]})},e.id))}):(0,a.jsxs)("div",{className:"text-center py-6 text-gray-500 bg-gray-50 rounded-lg",children:[(0,a.jsx)(y.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm",children:"No stories linked to this question yet."}),(0,a.jsx)("p",{className:"text-xs",children:'Click "Add Story" to link your STAR stories!'})]})]}),(0,a.jsxs)("div",{className:"border-t pt-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,a.jsx)(S.Z,{className:"w-4 h-4"}),"Additional Notes & Practice"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(d.Ph,{value:P,onValueChange:e=>D(e),children:[(0,a.jsx)(d.i4,{className:"w-40",children:(0,a.jsx)(d.ki,{})}),(0,a.jsxs)(d.Bw,{children:[(0,a.jsx)(d.Ql,{value:"NOT_STARTED",children:"Not Started"}),(0,a.jsx)(d.Ql,{value:"IN_PROGRESS",children:"In Progress"}),(0,a.jsx)(d.Ql,{value:"PREPARED",children:"Prepared"}),(0,a.jsx)(d.Ql,{value:"NEEDS_WORK",children:"Needs Work"})]})]}),I?(0,a.jsxs)(i.z,{onClick:J,size:"sm",disabled:q,className:"flex items-center gap-2",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4"}),q?"Saving...":"Save"]}):(0,a.jsxs)(i.z,{onClick:()=>_(!0),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,a.jsx)(S.Z,{className:"w-4 h-4"}),"Edit"]})]})]}),I?(0,a.jsx)(o.g,{value:O,onChange:e=>z(e.target.value),placeholder:"Add additional notes, key points, or practice responses here...",className:"min-h-[120px]"}):(0,a.jsx)("div",{className:"min-h-[60px] p-3 bg-gray-50 rounded-md",children:O?(0,a.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:O}):(0,a.jsx)("p",{className:"text-sm text-gray-500 italic",children:'Click "Edit" to add additional notes or practice responses...'})})]})]})})]})}),(0,a.jsx)(L,{isOpen:F,onClose:()=>M(!1),onSelectStory:$,questionId:T.id,companyId:T.company.id,questionTitle:T.title})]})}},9530:function(e,s,t){t.d(s,{$N:function(){return h},Be:function(){return p},Vq:function(){return c},cZ:function(){return x},fK:function(){return u},hg:function(){return o}});var a=t(5444),r=t(9300),l=t(9095),n=t(3485),i=t(5522);let c=l.fC,o=l.xz,d=l.h_;l.x8;let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.aV,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});m.displayName=l.aV.displayName;let x=r.forwardRef((e,s)=>{let{className:t,children:r,...c}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(l.VY,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...c,children:[r,(0,a.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.VY.displayName;let u=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};u.displayName="DialogHeader";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});h.displayName=l.Dx.displayName;let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});p.displayName=l.dk.displayName},4635:function(e,s,t){t.d(s,{_:function(){return o}});var a=t(5444),r=t(9300),l=t(4100),n=t(2371),i=t(5522);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.f,{ref:s,className:(0,i.cn)(c(),t),...r})});o.displayName=l.f.displayName},5181:function(e,s,t){t.d(s,{r:function(){return i}});var a=t(5444),r=t(9300),l=t(2312),n=t(5522);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.fC,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:(0,a.jsx)(l.bU,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=l.fC.displayName},7012:function(e,s,t){t.d(s,{g:function(){return n}});var a=t(5444),r=t(9300),l=t(5522);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});n.displayName="Textarea"},5854:function(e,s,t){t.d(s,{pm:function(){return x}});var a=t(9300);let r=0,l=new Map,n=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},i=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],o={toasts:[]};function d(e){o=i(o,e),c.forEach(e=>{e(o)})}function m(e){let{...s}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function x(){let[e,s]=a.useState(o);return a.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}}}]);