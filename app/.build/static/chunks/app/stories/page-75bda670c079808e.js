(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{8296:function(e,t,s){Promise.resolve().then(s.bind(s,2990))},2990:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return W}});var a=s(5444),r=s(9300),n=s(9047),i=s(9827),l=s(1335),o=s(2422),d=s(4678),c=s(9530),u=s(9429),m=s(5076),f=s(3485),x=s(8699),h=s(7665),p=s(3492),g=s(4614),v=s(1069),j=s(4624),y=s(1008),N=s(7012),b=s(4635),w=s(5181),S=s(3108),C=s(5522);let k=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(S.mY,{ref:t,className:(0,C.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...r})});k.displayName=S.mY.displayName;let T=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,a.jsx)(m.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,a.jsx)(S.mY.Input,{ref:t,className:(0,C.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...r})]})});T.displayName=S.mY.Input.displayName;let Z=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(S.mY.List,{ref:t,className:(0,C.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...r})});Z.displayName=S.mY.List.displayName;let R=r.forwardRef((e,t)=>(0,a.jsx)(S.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));R.displayName=S.mY.Empty.displayName;let _=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(S.mY.Group,{ref:t,className:(0,C.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...r})});_.displayName=S.mY.Group.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(S.mY.Separator,{ref:t,className:(0,C.cn)("-mx-1 h-px bg-border",s),...r})}).displayName=S.mY.Separator.displayName;let O=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(S.mY.Item,{ref:t,className:(0,C.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",s),...r})});O.displayName=S.mY.Item.displayName;var z=s(829);let A=z.fC,E=z.xz,Y=r.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:n=4,...i}=e;return(0,a.jsx)(z.h_,{children:(0,a.jsx)(z.VY,{ref:t,align:r,sideOffset:n,className:(0,C.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});Y.displayName=z.VY.displayName;var I=s(4670);function D(e){let{value:t=[],onChange:s,suggestions:n=[],popularTags:i=[],existingTags:c=[],placeholder:m="Add tags...",company:x,content:g,className:v}=e,[j,y]=(0,r.useState)(""),[N,b]=(0,r.useState)(!1),[w,S]=(0,r.useState)({suggestions:[],popularTags:[],existingTags:[]}),[z,D]=(0,r.useState)(!1),P=(0,r.useRef)(null);(0,r.useEffect)(()=>{(g||x)&&V()},[g,x]);let V=async()=>{if(g||x){D(!0);try{let e=await fetch("/api/tags/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:g,company:x,existingTags:t})});if(e.ok){let t=await e.json();S(t)}}catch(e){console.error("Error fetching tag suggestions:",e)}finally{D(!1)}}},F=e=>{let a=e.trim();a&&!t.includes(a)&&s([...t,a]),y(""),b(!1)},L=e=>{s(t.filter(t=>t!==e))},q=[...w.suggestions,...n,...w.popularTags,...i,...w.existingTags.map(e=>e.name),...c.map(e=>e.name)].filter((e,s,a)=>a.indexOf(e)===s&&!t.includes(e)&&e.toLowerCase().includes(j.toLowerCase()));return(0,a.jsxs)("div",{className:(0,C.cn)("space-y-2",v),children:[t.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,a.jsxs)(l.C,{variant:"secondary",className:"flex items-center gap-1 pr-1",children:[(0,a.jsx)(h.Z,{className:"w-3 h-3"}),e,(0,a.jsx)(o.z,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",onClick:()=>L(e),children:(0,a.jsx)(f.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)(A,{open:N,onOpenChange:b,children:[(0,a.jsx)(E,{asChild:!0,children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.I,{ref:P,value:j,onChange:e=>y(e.target.value),onKeyDown:e=>{"Enter"===e.key&&j.trim()?(e.preventDefault(),F(j)):"Backspace"===e.key&&!j&&t.length>0&&L(t[t.length-1])},placeholder:m,className:"pr-10",onFocus:()=>b(!0)}),(0,a.jsx)(o.z,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>{j.trim()?F(j):b(!N)},children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]})}),(0,a.jsx)(Y,{className:"w-80 p-0",align:"start",children:(0,a.jsxs)(k,{children:[(0,a.jsx)(T,{placeholder:"Search or create tags...",value:j,onValueChange:y}),(0,a.jsxs)(Z,{children:[z&&(0,a.jsxs)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 animate-spin mx-auto mb-2"}),"Getting intelligent suggestions..."]}),j&&!q.includes(j)&&(0,a.jsx)(_,{heading:"Create New",children:(0,a.jsxs)(O,{onSelect:()=>F(j),children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),'Create "',j,'"']})}),w.suggestions.length>0&&(0,a.jsx)(_,{heading:"AI Suggestions",children:w.suggestions.filter(e=>!t.includes(e)&&e.toLowerCase().includes(j.toLowerCase())).slice(0,5).map(e=>(0,a.jsxs)(O,{onSelect:()=>F(e),children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2 text-purple-500"}),e]},e))}),w.popularTags.length>0&&(0,a.jsx)(_,{heading:"Popular Tags",children:w.popularTags.filter(e=>!t.includes(e)&&e.toLowerCase().includes(j.toLowerCase())).slice(0,3).map(e=>(0,a.jsxs)(O,{onSelect:()=>F(e),children:[(0,a.jsx)(I.Z,{className:"w-4 h-4 mr-2 text-green-500"}),e]},e))}),w.existingTags.length>0&&(0,a.jsx)(_,{heading:"Existing Tags",children:w.existingTags.filter(e=>!t.includes(e.name)&&e.name.toLowerCase().includes(j.toLowerCase())).slice(0,8).map(e=>(0,a.jsxs)(O,{onSelect:()=>F(e.name),children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2",style:{color:e.color||"#6B7280"}}),e.name,(0,a.jsxs)("span",{className:"ml-auto text-xs text-muted-foreground",children:[e.count," ",1===e.count?"story":"stories"]})]},e.id))}),0===q.length&&!j&&!z&&(0,a.jsx)(R,{children:"No tags found. Start typing to create a new tag."})]})]})})]})]})}var P=s(6765),V=s(8382),F=s(3144),L=s(1059),q=s(5854);function U(e){var t;let{story:s,onSave:n,onCancel:l,company:c}=e,[u,m]=(0,r.useState)({title:(null==s?void 0:s.title)||"",content:(null==s?void 0:s.content)||"",situation:(null==s?void 0:s.situation)||"",task:(null==s?void 0:s.task)||"",action:(null==s?void 0:s.action)||"",result:(null==s?void 0:s.result)||"",reflection:(null==s?void 0:s.reflection)||""}),[x,h]=(0,r.useState)((null==s?void 0:s.isPublic)||!1),[g,v]=(0,r.useState)((null==s?void 0:null===(t=s.tags)||void 0===t?void 0:t.map(e=>e.tag.name))||[]),[j,y]=(0,r.useState)(!1),[S,C]=(0,r.useState)("basic"),{toast:k}=(0,q.pm)(),T=async e=>{if(e.preventDefault(),!u.title.trim()){k({title:"Error",description:"Please provide a story title.",variant:"destructive"});return}y(!0);try{let e={...u,tags:g,isPublic:x,...(null==s?void 0:s.id)&&{id:s.id}},t=(null==s||s.id,"/api/stories"),a=(null==s?void 0:s.id)?"PUT":"POST",r=await fetch(t,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok){let e=await r.json();n(e),k({title:(null==s?void 0:s.id)?"Story updated":"Story created",description:"Your story has been saved successfully."})}else throw Error("Failed to save story")}catch(e){console.error("Error saving story:",e),k({title:"Error",description:"Failed to save story. Please try again.",variant:"destructive"})}finally{y(!1)}},Z=(e,t)=>{m(s=>({...s,[e]:t}))};return(0,a.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:(null==s?void 0:s.id)?"Edit Story":"Create New Story"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:(null==s?void 0:s.id)?"Update your STAR method story":"Create a STAR method story for interview preparation"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(o.z,{type:"button",variant:"outline",onClick:l,children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(o.z,{type:"submit",disabled:j,children:[(0,a.jsx)(V.Z,{className:"w-4 h-4 mr-2"}),j?"Saving...":"Save Story"]})]})]}),(0,a.jsxs)(P.mQ,{value:S,onValueChange:C,className:"w-full",children:[(0,a.jsxs)(P.dr,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(P.SP,{value:"basic",children:"Basic Info"}),(0,a.jsx)(P.SP,{value:"star",children:"STAR Method"}),(0,a.jsx)(P.SP,{value:"tags",children:"Tags & Organization"})]}),(0,a.jsx)(P.nU,{value:"basic",className:"space-y-4",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Story Basics"}),(0,a.jsx)(i.SZ,{children:"Start with a clear title and overview of your story"})]}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(b._,{htmlFor:"title",children:"Story Title *"}),(0,a.jsx)(d.I,{id:"title",value:u.title,onChange:e=>Z("title",e.target.value),placeholder:"e.g., Led team through major system redesign",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(b._,{htmlFor:"content",children:"Story Overview"}),(0,a.jsx)(N.g,{id:"content",value:u.content,onChange:e=>Z("content",e.target.value),placeholder:"Brief overview of the story (optional - you can detail this in STAR format)",className:"min-h-[100px]"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[x?(0,a.jsx)(F.Z,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(L.Z,{className:"w-5 h-5 text-gray-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(b._,{htmlFor:"privacy-toggle",className:"text-sm font-medium",children:x?"Public Story":"Private Story"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:x?"Other users can view and use this story in their preparation":"Only you can view and use this story"})]})]}),(0,a.jsx)(w.r,{id:"privacy-toggle",checked:x,onCheckedChange:h})]})]})]})}),(0,a.jsx)(P.nU,{value:"star",className:"space-y-4",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"STAR Method Details"}),(0,a.jsx)(i.SZ,{children:"Structure your story using the STAR method for maximum impact"})]}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(b._,{htmlFor:"situation",className:"text-blue-600 font-semibold",children:"Situation"}),(0,a.jsx)(N.g,{id:"situation",value:u.situation,onChange:e=>Z("situation",e.target.value),placeholder:"Describe the context and background. What was the situation you were in?",className:"min-h-[80px]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(b._,{htmlFor:"task",className:"text-green-600 font-semibold",children:"Task"}),(0,a.jsx)(N.g,{id:"task",value:u.task,onChange:e=>Z("task",e.target.value),placeholder:"What was your responsibility or goal? What needed to be accomplished?",className:"min-h-[80px]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(b._,{htmlFor:"action",className:"text-purple-600 font-semibold",children:"Action"}),(0,a.jsx)(N.g,{id:"action",value:u.action,onChange:e=>Z("action",e.target.value),placeholder:"What specific steps did you take? Focus on your individual contributions.",className:"min-h-[100px]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(b._,{htmlFor:"result",className:"text-orange-600 font-semibold",children:"Result"}),(0,a.jsx)(N.g,{id:"result",value:u.result,onChange:e=>Z("result",e.target.value),placeholder:"What was the outcome? Include metrics and quantifiable results if possible.",className:"min-h-[80px]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(b._,{htmlFor:"reflection",className:"text-indigo-600 font-semibold",children:"Reflection"}),(0,a.jsx)(N.g,{id:"reflection",value:u.reflection,onChange:e=>Z("reflection",e.target.value),placeholder:"What did you learn from this experience? How did it help you grow?",className:"min-h-[80px]"})]})]})]})}),(0,a.jsx)(P.nU,{value:"tags",className:"space-y-4",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 text-purple-500"}),"Smart Tags & Organization"]}),(0,a.jsx)(i.SZ,{children:"Add tags to organize your story. We'll suggest relevant tags based on your content and company focus."})]}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)(b._,{children:"Story Tags"}),(0,a.jsx)(D,{value:g,onChange:v,company:c,content:[u.title,u.content,u.situation,u.task,u.action,u.result,u.reflection].filter(Boolean).join(" "),placeholder:"Add tags to categorize your story...",className:"mt-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Tags help you organize stories and find them quickly. We suggest tags based on your story content and company values."})]})})]})})]})]})}function M(){let e=(0,n.useSearchParams)(),[t,s]=(0,r.useState)([]),[N,b]=(0,r.useState)([]),[w,S]=(0,r.useState)(!0),[C,k]=(0,r.useState)(""),[T,Z]=(0,r.useState)([]),[R,_]=(0,r.useState)(!1),[O,z]=(0,r.useState)(null),[A,E]=(0,r.useState)(""),{toast:Y}=(0,q.pm)();(0,r.useEffect)(()=>{let t=e.get("company");t&&E(t),I()},[e]),(0,r.useEffect)(()=>{I()},[C,T]);let I=async()=>{try{let e=new URLSearchParams;C&&e.append("search",C),T.length>0&&e.append("tags",T.join(","));let[t,a]=await Promise.all([fetch("/api/stories?".concat(e.toString())),fetch("/api/tags")]),r=await t.json(),n=await a.json();s(r),b(n)}catch(e){console.error("Error fetching data:",e)}finally{S(!1)}},D=e=>{z(e),_(!0)},P=e=>{T.includes(e)||Z([...T,e])},V=e=>{Z(T.filter(t=>t!==e))},F=N.filter(e=>e._count&&e._count.stories>0).sort((e,t)=>{var s,a;return((null===(s=t._count)||void 0===s?void 0:s.stories)||0)-((null===(a=e._count)||void 0===a?void 0:a.stories)||0)}).slice(0,8);return w?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(y.Z,{children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"My Stories"}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground mt-2",children:"Create and organize your STAR method stories with intelligent tagging"})]}),(0,a.jsxs)(c.Vq,{open:R,onOpenChange:_,children:[(0,a.jsx)(c.hg,{asChild:!0,children:(0,a.jsxs)(o.z,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),"New Story"]})}),(0,a.jsx)(c.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:(0,a.jsx)(U,{story:O||void 0,onSave:e=>{O?(s(t.map(t=>t.id===e.id?e:t)),z(null)):s([e,...t]),_(!1)},onCancel:()=>{z(null),_(!1)},company:A})})]})]})}),(0,a.jsx)(y.Z,{delay:.1,children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(d.I,{placeholder:"Search stories...",value:C,onChange:e=>k(e.target.value),className:"pl-10"})]}),(T.length>0||C)&&(0,a.jsxs)(o.z,{variant:"outline",onClick:()=>{Z([]),k("")},className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4"}),"Clear Filters"]})]}),T.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),"Filtered by:"]}),T.map(e=>(0,a.jsxs)(l.C,{variant:"secondary",className:"flex items-center gap-1 pr-1",children:[(0,a.jsx)(h.Z,{className:"w-3 h-3"}),e,(0,a.jsx)(o.z,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",onClick:()=>V(e),children:(0,a.jsx)(f.Z,{className:"w-3 h-3"})})]},e))]}),F.length>0&&0===T.length&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),"Popular tags:"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:F.map(e=>{var t;return(0,a.jsxs)(l.C,{variant:"outline",className:"cursor-pointer hover:bg-secondary transition-colors",onClick:()=>P(e.name),children:[(0,a.jsx)(h.Z,{className:"w-3 h-3 mr-1"}),e.name,(0,a.jsxs)("span",{className:"ml-1 text-xs text-muted-foreground",children:["(",null===(t=e._count)||void 0===t?void 0:t.stories,")"]})]},e.id)})})]})]})}),(0,a.jsx)(y.Z,{delay:.2,children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[0===t.length?"No stories":1===t.length?"1 story":"".concat(t.length," stories"),(C||T.length>0)&&" found"]})}),(0,a.jsxs)("div",{className:"grid gap-6",children:[t.map((e,t)=>(0,a.jsxs)(i.Zb,{className:"hover:shadow-lg transition-all duration-300 border-0 bg-white/70 backdrop-blur-sm",children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,a.jsx)(i.ll,{className:"text-lg",children:e.title}),e.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map((e,t)=>(0,a.jsxs)(l.C,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-secondary/80 transition-colors",onClick:()=>P(e.tag.name),style:{backgroundColor:e.tag.color?"".concat(e.tag.color,"20"):void 0},children:[(0,a.jsx)(h.Z,{className:"w-3 h-3 mr-1"}),e.tag.name]},t))}),e.questions.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.questions.slice(0,3).map((e,t)=>{var s;let r=(null===(s=e.question.companyQuestions)||void 0===s?void 0:s.map(e=>e.company.name))||[];return(0,a.jsxs)(l.C,{variant:"outline",className:"text-xs",children:[(0,a.jsx)(g.Z,{className:"w-3 h-3 mr-1"}),r.length>0?r[0]:"Question"]},t)}),e.questions.length>3&&(0,a.jsxs)(l.C,{variant:"outline",className:"text-xs",children:["+",e.questions.length-3," more"]})]})]}),(0,a.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>D(e),children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})})]})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[e.situation&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-blue-600 mb-1",children:"Situation"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:e.situation})]}),e.task&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-green-600 mb-1",children:"Task"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:e.task})]}),e.action&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-purple-600 mb-1",children:"Action"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:e.action})]}),e.result&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-orange-600 mb-1",children:"Result"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:e.result})]}),e.reflection&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-indigo-600 mb-1",children:"Reflection"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:e.reflection})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Updated ",new Date(e.updatedAt).toLocaleDateString()]}),0===e.tags.length&&(0,a.jsxs)(l.C,{variant:"outline",className:"text-xs",children:[(0,a.jsx)(p.Z,{className:"w-3 h-3 mr-1"}),"Add tags"]})]})]})]},e.id)),0===t.length&&(0,a.jsx)(i.Zb,{className:"p-8 text-center border-0 bg-white/70 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(j.Z,{className:"w-12 h-12 text-muted-foreground mx-auto"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:C||T.length>0?"No stories found":"No stories yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:C||T.length>0?"Try adjusting your search query or filters to find relevant stories.":"Create your first STAR method story to get started with interview preparation."}),!(C||T.length>0)&&(0,a.jsxs)(o.z,{onClick:()=>_(!0),className:"mt-4",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Create Your First Story"]})]})})]})]})})]})}function W(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:(0,a.jsx)(M,{})})}},1008:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(5444),r=s(2817),n=s(3477);function i(e){let{children:t,className:s="",delay:i=0}=e,{ref:l,inView:o}=(0,n.YD)({threshold:.1,triggerOnce:!0});return(0,a.jsx)(r.E.div,{ref:l,initial:{opacity:0,y:50},animate:o?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,delay:i},className:s,children:t})}},1335:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var a=s(5444);s(9300);var r=s(2371),n=s(5522);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...r})}},2422:function(e,t,s){"use strict";s.d(t,{d:function(){return o},z:function(){return d}});var a=s(5444),r=s(9300),n=s(223),i=s(2371),l=s(5522);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:r,size:i,className:s})),ref:t,...c})});d.displayName="Button"},9827:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var a=s(5444),r=s(9300),n=s(5522);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},9530:function(e,t,s){"use strict";s.d(t,{$N:function(){return x},Be:function(){return h},Vq:function(){return o},cZ:function(){return m},fK:function(){return f},hg:function(){return d}});var a=s(5444),r=s(9300),n=s(9095),i=s(3485),l=s(5522);let o=n.fC,d=n.xz,c=n.h_;n.x8;let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});u.displayName=n.aV.displayName;let m=r.forwardRef((e,t)=>{let{className:s,children:r,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[r,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.VY.displayName;let f=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};f.displayName="DialogHeader";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});x.displayName=n.Dx.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=n.dk.displayName},4678:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var a=s(5444),r=s(9300),n=s(5522);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},4635:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(5444),r=s(9300),n=s(4100),i=s(2371),l=s(5522);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,l.cn)(o(),s),...r})});d.displayName=n.f.displayName},5181:function(e,t,s){"use strict";s.d(t,{r:function(){return l}});var a=s(5444),r=s(9300),n=s(2312),i=s(5522);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,a.jsx)(n.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.fC.displayName},6765:function(e,t,s){"use strict";s.d(t,{SP:function(){return d},dr:function(){return o},mQ:function(){return l},nU:function(){return c}});var a=s(5444),r=s(9300),n=s(9035),i=s(5522);let l=n.fC,o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});o.displayName=n.aV.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});d.displayName=n.xz.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});c.displayName=n.VY.displayName},7012:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var a=s(5444),r=s(9300),n=s(5522);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});i.displayName="Textarea"},5854:function(e,t,s){"use strict";s.d(t,{pm:function(){return m}});var a=s(9300);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},5522:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(2191),r=s(3607);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[993,545,49,946,511,386,156,744],function(){return e(e.s=8296)}),_N_E=e.O()}]);