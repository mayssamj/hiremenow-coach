(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{4347:function(e,t,n){Promise.resolve().then(n.bind(n,6463))},6463:function(e,t,n){"use strict";n.d(t,{AuthTest:function(){return o}});var r=n(5444),i=n(9300),s=n(2422);function o(){let[e,t]=(0,i.useState)(null),[n,o]=(0,i.useState)([]),[a,c]=(0,i.useState)(!1),l=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let n=await e.json();t(n)}else t({error:"Not authenticated"})}catch(e){t({error:"Failed to check auth"})}},d=async()=>{c(!0);try{let e=await fetch("/api/companies");if(e.ok){let t=await e.json();o(t)}else{let t=await e.json();o([{error:t.error||"Failed to fetch"}])}}catch(e){o([{error:"Network error"}])}finally{c(!1)}},u=async()=>{try{let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"admin",password:"AdminAdmin"})});if(e.ok){let t=await e.json();console.log("Login successful:",t),await l(),await d()}else console.error("Login failed")}catch(e){console.error("Login error:",e)}};return(0,i.useEffect)(()=>{l(),d()},[]),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Authentication Test"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(s.z,{onClick:l,children:"Check Auth Status"}),(0,r.jsx)(s.z,{onClick:d,disabled:a,children:a?"Loading...":"Fetch Companies"}),(0,r.jsx)(s.z,{onClick:u,children:"Test Login"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Auth Status:"}),(0,r.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-sm",children:JSON.stringify(e,null,2)})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-semibold",children:["Companies (",n.length,"):"]}),(0,r.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-sm max-h-40 overflow-y-auto",children:JSON.stringify(n.slice(0,3),null,2)})]})]})]})}},2422:function(e,t,n){"use strict";n.d(t,{d:function(){return c},z:function(){return l}});var r=n(5444),i=n(9300),s=n(223),o=n(2371),a=n(5522);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:n,variant:i,size:o,asChild:l=!1,...d}=e,u=l?s.g7:"button";return(0,r.jsx)(u,{className:(0,a.cn)(c({variant:i,size:o,className:n})),ref:t,...d})});l.displayName="Button"},5522:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(2191),i=n(3607);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,r.W)(t))}}},function(e){e.O(0,[993,386,156,744],function(){return e(e.s=4347)}),_N_E=e.O()}]);