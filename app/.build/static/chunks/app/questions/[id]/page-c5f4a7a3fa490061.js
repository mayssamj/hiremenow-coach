(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[262],{8541:function(e,t,s){Promise.resolve().then(s.bind(s,8277)),Promise.resolve().then(s.bind(s,5210))},5210:function(e,t,s){"use strict";s.d(t,{QuestionDetailContent:function(){return T}});var a=s(7437),n=s(2265),r=s(6070),i=s(5974),l=s(2869),c=s(6818),o=s(5186),d=s(7129),u=s(4253),x=s(2660),p=s(1671),h=s(1723),m=s(6865),f=s(8420),y=s(8896),v=s(2720),j=s(9205);let w=(0,j.Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),g=(0,j.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var b=s(3229),k=s(7648),N=s(3287),S=s(5153);function T(e){let{questionId:t}=e,[s,j]=(0,n.useState)(null),[T,E]=(0,n.useState)(!0),[C,Z]=(0,n.useState)(!1),[A,M]=(0,n.useState)(""),[D,_]=(0,n.useState)(!1),[O,q]=(0,n.useState)([]),[P,F]=(0,n.useState)(""),[I,R]=(0,n.useState)(0),[z,L]=(0,n.useState)(null),{toast:V}=(0,S.pm)();(0,n.useEffect)(()=>{H()},[t]),(0,n.useEffect)(()=>(L(Date.now()),()=>{if(z){let e=Math.floor((Date.now()-z)/1e3);R(t=>t+e)}}),[]);let H=async()=>{try{let e=await fetch("/api/questions/".concat(t));if(e.ok){let t=await e.json();if(j(t.question),t.question.answers&&t.question.answers.length>0){let e=t.question.answers[0];M(e.content),_(e.isComplete),q(e.tags||[]),R(e.timeSpent||0)}}else if(404===e.status)V({title:"Question not found",description:"This question doesn't exist or has been removed.",variant:"destructive"});else throw Error("Failed to fetch question")}catch(e){console.error("Failed to fetch question:",e),V({title:"Error",description:"Failed to load question. Please try again.",variant:"destructive"})}finally{E(!1)}},Q=async()=>{if(!A.trim()){V({title:"Content required",description:"Please enter your answer before saving.",variant:"destructive"});return}Z(!0);try{let e=z?I+Math.floor((Date.now()-z)/1e3):I,s=await fetch("/api/questions/".concat(t,"/answers"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:A.trim(),isComplete:D,tags:O,timeSpent:e})});if(s.ok)V({title:"Success",description:"Your answer has been saved successfully."}),await H(),L(Date.now());else{let e=await s.json();throw Error(e.error||"Failed to save answer")}}catch(e){console.error("Failed to save answer:",e),V({title:"Error",description:"Failed to save your answer. Please try again.",variant:"destructive"})}finally{Z(!1)}},W=async()=>{var e;if(null==s?void 0:null===(e=s.answers)||void 0===e?void 0:e[0]){if(!confirm("Are you sure you want to delete your answer? This action cannot be undone."))return;Z(!0);try{if((await fetch("/api/questions/".concat(t,"/answers"),{method:"DELETE"})).ok)M(""),_(!1),q([]),R(0),V({title:"Success",description:"Your answer has been deleted."}),await H();else throw Error("Failed to delete answer")}catch(e){console.error("Failed to delete answer:",e),V({title:"Error",description:"Failed to delete your answer. Please try again.",variant:"destructive"})}finally{Z(!1)}}},Y=()=>{P.trim()&&!O.includes(P.trim())&&(q([...O,P.trim()]),F(""))},B=e=>{q(O.filter(t=>t!==e))};if(T)return(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-64"}),(0,a.jsx)("div",{className:"h-40 bg-gray-200 rounded-lg animate-pulse"}),(0,a.jsx)("div",{className:"h-60 bg-gray-200 rounded-lg animate-pulse"})]})});if(!s)return(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Question Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"The question you're looking for doesn't exist."}),(0,a.jsx)(k.default,{href:"/questions",children:(0,a.jsxs)(l.z,{children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Back to Questions"]})})]})});let U=s.answers&&s.answers.length>0;return(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,a.jsx)(k.default,{href:"/questions",children:(0,a.jsxs)(l.z,{variant:"ghost",className:"mb-4",children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Back to Questions"]})})}),(0,a.jsx)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,a.jsx)(r.Zb,{children:(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[U?(0,a.jsx)(p.Z,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(h.Z,{className:"h-5 w-5 text-gray-400"}),s.isCritical&&(0,a.jsxs)(i.C,{variant:"destructive",className:"text-xs",children:[(0,a.jsx)(m.Z,{className:"h-3 w-3 mr-1"}),"Critical"]}),(0,a.jsx)(i.C,{variant:"secondary",className:"text-xs",children:s.category.toLowerCase().replace("_"," ")}),(0,a.jsx)(i.C,{variant:"outline",className:"text-xs",children:s.difficulty.toLowerCase()}),s.company&&(0,a.jsxs)(i.C,{variant:"outline",className:"text-xs",children:[(0,a.jsx)(f.Z,{className:"h-3 w-3 mr-1"}),s.company.name]})]}),(0,a.jsx)(r.ll,{className:"text-xl leading-relaxed",children:s.text})]})}),s.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 pt-2",children:s.tags.map(e=>(0,a.jsx)(i.C,{variant:"outline",className:"text-xs",children:e},e))}),s.company&&(0,a.jsx)(r.SZ,{className:"pt-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:s.company.name}),s.company.industry&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsx)("span",{children:s.company.industry})]})]})})]})})}),(0,a.jsx)(N.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center",children:[(0,a.jsx)(y.Z,{className:"mr-2 h-5 w-5"}),"Your Answer"]}),U&&(0,a.jsxs)(r.SZ,{children:["Last updated: ",new Date(s.answers[0].updatedAt).toLocaleDateString()]})]}),(0,a.jsxs)(r.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"content",children:"Answer Content"}),(0,a.jsx)(c.g,{id:"content",placeholder:"Write your detailed answer here using the STAR++ method (Situation, Task, Action, Result, Plus learnings and future applications)...",value:A,onChange:e=>M(e.target.value),rows:12,className:"min-h-[300px]"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(d._,{children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:O.map(e=>(0,a.jsxs)(i.C,{variant:"secondary",className:"flex items-center space-x-1",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e}),(0,a.jsx)("button",{onClick:()=>B(e),className:"ml-1 text-xs hover:text-red-500",children:"\xd7"})]},e))}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(o.I,{placeholder:"Add a tag...",value:P,onChange:e=>F(e.target.value),onKeyPress:e=>"Enter"===e.key&&Y(),className:"flex-1"}),(0,a.jsx)(l.z,{onClick:Y,variant:"outline",size:"sm",children:"Add"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.r,{id:"complete",checked:D,onCheckedChange:_}),(0,a.jsx)(d._,{htmlFor:"complete",children:"Mark as complete"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)(w,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Time spent: ","".concat(Math.floor(I/60),"m ").concat(I%60,"s")]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[U&&(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:W,disabled:C,children:[(0,a.jsx)(g,{className:"mr-2 h-4 w-4"}),"Delete"]}),(0,a.jsxs)(l.z,{onClick:Q,disabled:C||!A.trim(),children:[(0,a.jsx)(b.Z,{className:"mr-2 h-4 w-4"}),C?"Saving...":"Save Answer"]})]})]})]})]})})]})})}},7129:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(7437),n=s(2265),r=s(6840),i=n.forwardRef((e,t)=>(0,a.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=s(7712),c=s(4508);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(i,{ref:t,className:(0,c.cn)(o(),s),...n})});d.displayName=i.displayName},4253:function(e,t,s){"use strict";s.d(t,{r:function(){return k}});var a=s(7437),n=s(2265),r=s(6741),i=s(8575),l=s(3966),c=s(886),o=s(6718),d=s(420),u=s(6840),x="Switch",[p,h]=(0,l.b)(x),[m,f]=p(x),y=n.forwardRef((e,t)=>{let{__scopeSwitch:s,name:l,checked:o,defaultChecked:d,required:x,disabled:p,value:h="on",onCheckedChange:f,...y}=e,[v,j]=n.useState(null),b=(0,i.e)(t,e=>j(e)),k=n.useRef(!1),N=!v||!!v.closest("form"),[S=!1,T]=(0,c.T)({prop:o,defaultProp:d,onChange:f});return(0,a.jsxs)(m,{scope:s,checked:S,disabled:p,children:[(0,a.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":S,"aria-required":x,"data-state":g(S),"data-disabled":p?"":void 0,disabled:p,value:h,...y,ref:b,onClick:(0,r.M)(e.onClick,e=>{T(e=>!e),N&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),N&&(0,a.jsx)(w,{control:v,bubbles:!k.current,name:l,value:h,checked:S,required:x,disabled:p,style:{transform:"translateX(-100%)"}})]})});y.displayName=x;var v="SwitchThumb",j=n.forwardRef((e,t)=>{let{__scopeSwitch:s,...n}=e,r=f(v,s);return(0,a.jsx)(u.WV.span,{"data-state":g(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:t})});j.displayName=v;var w=e=>{let{control:t,checked:s,bubbles:r=!0,...i}=e,l=n.useRef(null),c=(0,o.D)(s),u=(0,d.t)(t);return n.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==s&&t){let a=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(a)}},[c,s,r]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function g(e){return e?"checked":"unchecked"}var b=s(4508);let k=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(y,{className:(0,b.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...n,ref:t,children:(0,a.jsx)(j,{className:(0,b.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});k.displayName=y.displayName},6818:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var a=s(7437),n=s(2265),r=s(4508);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});i.displayName="Textarea"},5153:function(e,t,s){"use strict";s.d(t,{pm:function(){return x}});var a=s(2265);let n=0,r=new Map,i=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=l(o,e),c.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(o);return a.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1671:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3229:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},2720:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},8896:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},6865:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6718:function(e,t,s){"use strict";s.d(t,{D:function(){return n}});var a=s(2265);function n(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}},function(e){e.O(0,[466,14,605,675,499,586,971,117,744],function(){return e(e.s=8541)}),_N_E=e.O()}]);